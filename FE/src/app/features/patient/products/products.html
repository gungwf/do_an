<div class="container my-4">
  <h2 class="text-center mb-4 text-primary fw-bold">
    Danh sách sản phẩm
  </h2>

  <div
    class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3"
  >
    <div class="d-flex align-items-center gap-2 flex-wrap">
      <label class="fw-semibold">Danh mục:</label>
      <select
        class="form-select"
        style="width: 200px"
        (change)="onCategoryChange($event)"
      >
        <option value="">Tất cả</option>
        <option *ngFor="let c of categories" [value]="c.id">
          {{ c.name }}
        </option>
      </select>

      <label class="fw-semibold ms-3">Sắp xếp theo giá:</label>
      <select
        class="form-select"
        style="width: 150px"
        (change)="onSortChange($event)"
      >
        <option value="asc">Tăng dần</option>
        <option value="desc">Giảm dần</option>
      </select>
    </div>

    </div>

  <div class="row g-4" *ngIf="products.length > 0; else noProducts">
    <div
      class="col-12 col-sm-6 col-md-4 col-lg-3"
      *ngFor="let product of products"
    >
      <app-product-card
        [product]="product"
        (addToCart)="onAddToCart($event)"
      ></app-product-card>
    </div>
  </div>

  <ng-template #noProducts>
    <div class="text-center text-muted py-5">
      <i class="bi bi-box-seam display-6 d-block mb-3"></i>
      Không có sản phẩm nào trong danh mục này.
    </div>
  </ng-template>

  <div class="d-flex justify-content-end mt-4">
    <div class="d-flex align-items-center gap-2">
      <button
        class="btn btn-outline-primary"
        (click)="prevPage()"
        [disabled]="page === 0"
      >
        <i class="bi bi-arrow-left"></i> Trang trước
      </button>
      <span class="fw-semibold"
        >Trang {{ page + 1 }} / {{ totalPages || 1 }}</span
      >
      <button
        class="btn btn-outline-primary"
        (click)="nextPage()"
        [disabled]="page >= totalPages - 1"
      >
        Trang sau <i class="bi bi-arrow-right"></i>
      </button>
    </div>
  </div>
  
</div>