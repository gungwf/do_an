<div class="container py-4">
  <h4 class="fw-bold mb-4">üõí Gi·ªè h√†ng c·ªßa b·∫°n</h4>

  <div *ngIf="cartItems.length === 0" class="alert alert-warning">
    Gi·ªè h√†ng tr·ªëng. H√£y quay l·∫°i ch·ªçn s·∫£n ph·∫©m nh√©!
  </div>

  <div *ngIf="cartItems.length > 0" class="table-responsive">
    <table class="table align-middle">
      <thead class="table-light">
        <tr>
          <th>S·∫£n ph·∫©m</th>
          <th class="text-center">Gi√°</th>
          <th class="text-center">S·ªë l∆∞·ª£ng</th>
          <th class="text-center">Th√†nh ti·ªÅn</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems; let i = index">
          <td>{{ item.productName }}</td>
          <td class="text-center">
            {{ item.price | currency:'VND':'symbol':'1.0-0' }}
          </td>
          <td class="text-center">
            <div class="d-inline-flex align-items-center border rounded px-2">
              <button
                class="btn btn-sm btn-link text-decoration-none"
                (click)="updateQuantity(item.id, item.quantity - 1)"
                [disabled]="item.quantity <= 1"
              >
                ‚àí
              </button>
              <input
                type="number"
                [(ngModel)]="item.quantity"
                (change)="updateQuantity(item.id, item.quantity)"
                min="1"
                class="form-control text-center border-0 shadow-none p-0"
                style="width: 50px;"
              />
              <button
                class="btn btn-sm btn-link text-decoration-none"
                (click)="updateQuantity(item.id, item.quantity + 1)"
              >
                +
              </button>
            </div>
          </td>
          <td class="text-center fw-semibold">
            {{ (item.price * item.quantity) | currency:'VND':'symbol':'1.0-0' }}
          </td>
          <td class="text-end">
            <button class="btn btn-outline-danger btn-sm" (click)="removeItem(item.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="text-end mt-3">
      <h5 class="fw-bold">T·ªïng c·ªông: {{ getTotal() | currency:'VND':'symbol':'1.0-0' }}</h5>
      <button class="btn btn-primary mt-2">Ti·∫øn h√†nh thanh to√°n</button>
    </div>
  </div>
</div>