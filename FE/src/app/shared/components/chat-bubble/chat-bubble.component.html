<div class="chat-bubble-container">
  <!-- Bong bóng chat icon -->
  <div class="chat-bubble" [class.has-unread]="hasUnread" (click)="toggleChat()">
    <i class="bi bi-chat-dots-fill"></i>
    <span class="unread-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
  </div>

  <!-- Cửa sổ chat (sẽ được load khi mở) -->
  <div class="chat-window" *ngIf="isOpen">
    <app-chat-window 
      [userRole]="userRole" 
      [targetUserId]="targetUserId"
      (closeChat)="toggleChat()">
    </app-chat-window>
  </div>
</div>
